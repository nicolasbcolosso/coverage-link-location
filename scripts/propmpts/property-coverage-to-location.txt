1. I have to implement a new functionality on an existing Lightning Web Component, which functionality is to add/remove coverage (Quote_Coverage_Link__c records) to Quote__c, Endorsement__c or Policy__c. The component is used on respective record pages of the mentioned Objects, in Quote__c as a child component of quoteBaseComponent.js and as a Lightning Web Component Action Type (Screen Action) in Policy__c and Endorsement__c.

Currently the component list to the user all available coverage and the the user select or deselect coverages go to the next screen and let the user set some Quote_Coverage_Link__c field values (depending on the Field set for each coverage), on the fish the component make an upsert, delete deselected if previously exists, update fields values or create new Quote_Coverage_Link__c records.

The new functionality needs to detect if the Account the Quote__c is is linked has zero, one or more related locations and in the second window let the user add one Quote_Coverage_Link__c by Location__c only for the Property Coverage__c (the value Property is the name of the Coverage__c record), in case no Location__c related to the Account a message to the user is displayed telling that if want to add Property Coverage__c is needed to a Location__c to the Account.

The idea for the solution is to add a new custom field to the Quote_Coverage_Link__c Object to link to the Location__c, and for the transition between the old a new component implement a checkbox custom field on Quote__c, Policy__c and Endorsement__c Objects that let use the new or the old functionality.

So before implementing the solution, let me know what you andestand. The lwc, classes and object metadata is in Files of this project.

2. The implementation of the solution must be totally decoupled of the old implemntation, so new lwc component, new apex controller class, the only component that may be modified is quoteBaseComponent.js because we need to change the call of LightningAddRemoveCoverage by the new lwc one.

Use Lightning Deign System 2 for the LWC layout and improve the UI.
In the screen-2 The behavior of all other coverage stays the same and for 'Property' display a section with the name Property (same others coverage) and one subsection for each Location (new functionality), each with the corresponding fields. When Property coverage exists and the user deselect Property in Scree-1, by default all Quote_Coverage_Link__c (one for each location) are deleted. In Screen 2, the user can select or deselect which locations should or should not be sent to the upsert.

Questions/Clarifications Before Implementation

Field naming: I prefer Location__c for the  lookup field on Quote_Coverage_Link__c
Feature toggle field naming: API name for the checkbox on Quote__c, Policy__c, Endorsement__c:  Is_New_Property__c (checkbox)
Property coverage identification: Identify Property coverage by Coverage__c.Name = 'Property'.
Editing existing records: no special way.
